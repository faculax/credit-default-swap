# Database Schema Documentation

This directory contains auto-generated database schema documentation.

## Contents

After the first workflow run, this directory will contain:

- `database-schema.png` - Visual ER diagram of the database
- `database-schema.puml` - PlantUML source for the diagram
- `database-schema.html` - Detailed HTML documentation with table/column descriptions
- `migrations-applied.txt` - List of all applied Flyway migrations
- `README.md` - Comprehensive documentation index

## Generation

Documentation is automatically generated by:
- **Workflow**: `.github/workflows/generate-schema-diagram.yml`
- **Script**: `scripts/generate-db-diagram.sh`

The workflow triggers on:
- Pushes to `main`, `develop`, or `data-model` branches that modify migrations
- Manual workflow dispatch from GitHub Actions UI

## Local Generation

To generate locally (requires Docker):

```bash
# Start local postgres with migrations applied
docker-compose -f docker-compose.local.yml up -d postgres

# Wait for postgres to be ready
sleep 5

# Run the generation script (requires SchemaCrawler + Graphviz installed)
bash scripts/generate-db-diagram.sh
```

For local setup without Docker, see the workflow file for installing dependencies.
